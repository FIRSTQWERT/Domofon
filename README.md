# Domofon
Cкрипты для автоматизации работы с домофонами.

==============================================================
## backup_keys
backup.sh - скрипт для создания бэкапов с панелей Beward, True-ip, Bas-ip.

Скрипт backup.sh запускает поочерёдно три скрипта:
./backup_basip.sh - пароли зашиты в скрипте, список адресов панелей лежит в ./basip_ip.txt, бэкап сохраняется в ./backup/BASIP
./backup_beward.sh - пароли зашиты в скрипте, список адресов панелей лежит в ./beward.txt, бэкап сохраняется в ./backup/BEWARD
./backup_trueip.sh - пароли находятся в файле passwords.txt, скрипт их перебирает по-порядку, список сетей для перебора лежит в файле ./nets.txt, бэкап сохраняется ./backup/TRUE_IP


==============================================================
## add_keys_api
add_keys_api.sh – добавление номеров карт в домофоны Beward, True-ip, Bas-ip.

Можно добавлять как список ключей в одну панель, так и "вездеходы", если указать в последнем октете адреса "*" .

При старте скрипта выводится пользовательское меню:

 ==> Введите логин: admin
 ==> Введите пароль: admin
 ==> Введите имя файла ключей: keys.txt
 ==> Введите адрес панели. Для вездехода используйте маску * (Пример 172.26.14.*): 172.26.14.*
 Варианты API-запроса:
 [1] Beward DKS850174 'http://172.26.14.*/cgi-bin/rfid_cgi?action=add&Key='
 [2] Beward DKS15198 'http://172.26.14.*/cgi-bin/mifare_cgi?action=add&Key=&Type=1'
 [3] True-IP TI-2400 'http://172.26.14.*/cgi-bin/recordUpdater.cgi?action=insert&name=AccessControlCard&CardName=123&CardNo=&UserID=vezdehod&CardStatus=0&CardType=0'
 [4] BAS-IP 'http://172.26.14.*/api/v1/access/identifier'
 ==> Выберите вариант API-запроса: 3
 ==> Обнаружен вездеход, введите стартовый адрес: 2
 ==> Обнаружен вездеход, введите конечный адрес: 10


==============================================================
